{"version":3,"sources":["jquery.lazyload.js"],"names":["$","window","document","undefined","$window","debounce","callback","timeout","debounceTimer","clearTimeout","setTimeout","fn","lazyload","options","update","counter","elements","each","$this","this","settings","skip_invisible","is","abovethetop","leftofbegin","belowthefold","rightoffold","failure_limit","trigger","$container","threshold","event","effect","container","data_attribute","appear","load","placeholder","extend","indexOf","on","self","$self","loaded","attr","one","elements_left","length","call","original","removeAttr","css","temp","grep","element","test","navigator","appVersion","originalEvent","persisted","cur_top","scrollTop","fold","innerHeight","height","offset","top","width","scrollLeft","left","inviewport","jQuery"],"mappings":"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","file":"jquery.lazyload.min.js","sourcesContent":["\n(function($, window, document, undefined) {\n\tvar $window = $(window);\n\tvar debounce = function(callback, timeout){\n\t\tvar debounceTimer;\n\t\treturn function(){\n\t\t\tif (debounceTimer) {\n\t\t\t\tclearTimeout(debounceTimer);\n\t\t\t}\n\t\t\tdebounceTimer = setTimeout(callback, timeout);\n\t\t};\n\t};\n\t$.fn.lazyload = function(options) {\n\t\tvar elements = this;\n\t\tvar $container;\n\t\tvar settings = {\n\t\t\tthreshold\t   : 0,\n\t\t\tfailure_limit   : 0,\n\t\t\tevent\t\t   : \"scroll\",\n\t\t\teffect\t\t  : \"fadeIn\",\n\t\t\tcontainer\t   : window,\n\t\t\tdata_attribute  : \"src\",\n\t\t\tskip_invisible  : false,\n\t\t\tappear\t\t  : null,\n\t\t\tload\t\t\t: null,\n\t\t\tdebounce\t\t: 300,\n\t\t\tplaceholder\t : 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"#006FC1\"><path opacity=\".25\" d=\"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4\"/><path d=\"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z\"><animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 16 16\" to=\"360 16 16\" dur=\"0.8s\" repeatCount=\"indefinite\"/></path></svg>'\n\t\t};\n\t\tfunction update() {\n\t\t\tvar counter = 0;\n\t\t\telements.each(function() {\n\t\t\t\tvar $this = $(this);\n\t\t\t\tif (settings.skip_invisible && !$this.is(\":visible\")) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ($.abovethetop(this, settings) ||\n\t\t\t\t\t$.leftofbegin(this, settings)) {\n\t\t\t\t} else if (!$.belowthefold(this, settings) &&\n\t\t\t\t\t!$.rightoffold(this, settings)) {\n\t\t\t\t\t\t$this.trigger(\"appear\");\n\t\t\t\t\t\tcounter = 0;\n\t\t\t\t} else {\n\t\t\t\t\tif (++counter > settings.failure_limit) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif(options) {\n\t\t\t$.extend(settings, options);\n\t\t}\n\t\t$container = (settings.container === undefined ||\n\t\t\tsettings.container === window) ? $window : $(settings.container);\n\t\tif (0 === settings.event.indexOf(\"scroll\")) {\n\t\t\t$container.on(settings.event, debounce(\n\t\t\t\tfunction() {\n\t\t\t\t\treturn update();\n\t\t\t\t}, settings.debounce)\n\t\t\t);\n\t\t}\n\t\tthis.each(function() {\n\t\t\tvar self = this;\n\t\t\tvar $self = $(self);\n\t\t\tself.loaded = false;\n\t\t\tif ($self.attr(\"src\") === undefined || $self.attr(\"src\") === false) {\n\t\t\t\tif ($self.is(\"img\")) {\n\t\t\t\t\t$self.attr(\"src\", settings.placeholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$self.one(\"appear\", function() {\n\t\t\t\tif (!this.loaded) {\n\t\t\t\t\tif (settings.appear) {\n\t\t\t\t\t\tvar elements_left = elements.length;\n\t\t\t\t\t\tsettings.appear.call(self, elements_left, settings);\n\t\t\t\t\t}\n\t\t\t\t\t$(\"<img />\")\n\t\t\t\t\t\t.on(\"load\", function() {\n\t\t\t\t\t\t\tvar original = $self.attr(\"data-\" + settings.data_attribute);\n\t\t\t\t\t\t\tif ($self.is(\"img\")) {\n\t\t\t\t\t\t\t\t$self.attr(\"src\", original);\n\t\t\t\t\t\t\t\t$self.removeAttr(\"data-\" + settings.data_attribute);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$self.css(\"background-image\", \"url('\" + original + \"')\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.loaded = true;\n\t\t\t\t\t\t\tvar temp = $.grep(elements, function(element) {\n\t\t\t\t\t\t\t\treturn !element.loaded;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\telements = $(temp);\n\t\t\t\t\t\t\tif (settings.load) {\n\t\t\t\t\t\t\t\tvar elements_left = elements.length;\n\t\t\t\t\t\t\t\tsettings.load.call(self, elements_left, settings);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr(\"src\", $self.attr(\"data-\" + settings.data_attribute));\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (0 !== settings.event.indexOf(\"scroll\")) {\n\t\t\t\t$self.on(settings.event, debounce(\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tif (!self.loaded) {\n\t\t\t\t\t\t\t$self.trigger(\"appear\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, settings.debounce)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\t$window.on(\"resize\", debounce(update, settings.debounce));\n\t\tif ((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)) {\n\t\t\t$window.on(\"pageshow\", function(event) {\n\t\t\t\tif (event.originalEvent && event.originalEvent.persisted) {\n\t\t\t\t\telements.each(function() {\n\t\t\t\t\t\t$(this).trigger(\"appear\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tvar cur_top = $window.scrollTop();\n\t\t$window.scrollTop(cur_top + 1).scrollTop(cur_top);\n\t\tupdate();\n\t\treturn this;\n\t};\n\t$.belowthefold = function(element, settings) {\n\t\tvar fold;\n\t\tif (settings.container === undefined || settings.container === window) {\n\t\t\tfold = (window.innerHeight ? window.innerHeight : $window.height()) + $window.scrollTop();\n\t\t} else {\n\t\t\tfold = $(settings.container).offset().top + $(settings.container).height();\n\t\t}\n\t\treturn fold <= $(element).offset().top - settings.threshold;\n\t};\n\t$.rightoffold = function(element, settings) {\n\t\tvar fold;\n\t\tif (settings.container === undefined || settings.container === window) {\n\t\t\tfold = $window.width() + $window.scrollLeft();\n\t\t} else {\n\t\t\tfold = $(settings.container).offset().left + $(settings.container).width();\n\t\t}\n\t\treturn fold <= $(element).offset().left - settings.threshold;\n\t};\n\t$.abovethetop = function(element, settings) {\n\t\tvar fold;\n\t\tif (settings.container === undefined || settings.container === window) {\n\t\t\tfold = $window.scrollTop();\n\t\t} else {\n\t\t\tfold = $(settings.container).offset().top;\n\t\t}\n\t\treturn fold >= $(element).offset().top + settings.threshold  + $(element).height();\n\t};\n\t$.leftofbegin = function(element, settings) {\n\t\tvar fold;\n\t\tif (settings.container === undefined || settings.container === window) {\n\t\t\tfold = $window.scrollLeft();\n\t\t} else {\n\t\t\tfold = $(settings.container).offset().left;\n\t\t}\n\t\treturn fold >= $(element).offset().left + settings.threshold + $(element).width();\n\t};\n\t$.inviewport = function(element, settings) {\n\t\t return !$.rightoffold(element, settings) && !$.leftofbegin(element, settings) &&\n\t\t\t\t!$.belowthefold(element, settings) && !$.abovethetop(element, settings);\n\t };\n})(jQuery, window, document);\n"],"sourceRoot":"/source/"}